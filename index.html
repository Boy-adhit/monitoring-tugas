<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monitoring Tugas Web</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.css">
  <style>
    body { font-family: sans-serif; padding: 1rem; max-width: 900px; margin: auto; }
    nav button { margin: 0.3rem; padding: 0.5rem 1rem; }
    section { display: none; margin-top: 1rem; }
    section.active { display: block; }
    .task-item { border: 1px solid #ccc; padding: 0.5rem; margin-bottom: 0.5rem; border-radius: 5px; background: #f8f8f8; position: relative; }
    .task-item.done { background: #e0ffe0; }
    .delete-btn, .done-btn { position: absolute; top: 5px; cursor: pointer; padding: 4px; }
    .delete-btn { right: 5px; color: red; }
    .done-btn { right: 35px; color: green; }
    .notification { background: #fff3cd; padding: 0.5rem; margin-bottom: 0.5rem; border-left: 5px solid #ffc107; }
  </style>
</head>
<body>
  <h1>Monitoring Tugas</h1>
  <nav>
    <button onclick="showTab('daftar')" id="tab-daftar">Daftar Tugas</button>
    <button onclick="showTab('statistik')" id="tab-statistik">Statistik</button>
    <button onclick="showTab('kalender')" id="tab-kalender">Kalender</button>
    <button onclick="showTab('arsip')" id="tab-arsip">Arsip</button>
  </nav>

  <section id="daftar" class="active">
    <form onsubmit="addTask(); return false">
      <input type="text" id="name" placeholder="Nama Tugas" required />
      <input type="text" id="desc" placeholder="Deskripsi" required />
      <input type="date" id="start" required />
      <input type="date" id="end" required />
      <select id="priority">
        <option value="Tinggi">Tinggi</option>
        <option value="Sedang">Sedang</option>
        <option value="Rendah">Rendah</option>
      </select>
      <select id="kategori">
        <option value="Rutin">Rutin</option>
        <option value="Ad-hoc">Ad-hoc</option>
      </select>
      <select id="status">
        <option value="Belum">Belum</option>
        <option value="Selesai">Selesai</option>
      </select>
      <input type="text" id="notes" placeholder="Catatan" />
      <button type="submit">Tambah</button>
    </form>
    <div>
      <label>Filter Tanggal: <input type="date" id="filterDate" onchange="filterByDate()"></label>
      <label>Kategori: <select id="filterKategori" onchange="filterByDate()">
        <option value="">Semua</option>
        <option value="Rutin">Rutin</option>
        <option value="Ad-hoc">Ad-hoc</option>
      </select></label>
      <button onclick="resetFilter()">Reset</button>
    </div>
    <div id="task-list"></div>
  </section>

  <section id="statistik">
    <canvas id="taskChart" height="150"></canvas>
    <div id="deadline-alerts"></div>
  </section>

  <section id="kalender">
    <div id="calendar"></div>
  </section>

  <section id="arsip">
    <div id="arsip-list"></div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js"></script>

  <script>
let stored = localStorage.getItem("tasks");
let tasks = stored ? JSON.parse(stored) : [
  {
    name: "Rapat Tim Project",
    desc: "Diskusi mingguan mengenai progres dan kendala",
    start: "2025-07-01",
    end: "2025-07-01",
    priority: "Tinggi",
    kategori: "Rutin",
    status: "Belum",
    notes: "Siapkan laporan mingguan",
    done: false
  },
  {
    name: "Update Website Perusahaan",
    desc: "Perbarui halaman produk dan kontak",
    start: "2025-07-02",
    end: "2025-07-05",
    priority: "Sedang",
    kategori: "Ad-hoc",
    status: "Belum",
    notes: "Minta materi terbaru dari tim produk",
    done: false
  },
  {
    name: "Kirim Laporan Keuangan",
    desc: "Rekap keuangan bulan Juni dan kirim ke manajer",
    start: "2025-07-03",
    end: "2025-07-03",
    priority: "Tinggi",
    kategori: "Rutin",
    status: "Selesai",
    notes: "Sudah dikirim via email",
    done: true
  }
];
saveTasks();
// lanjutkan script seperti sebelumnya (dari renderTasks dsb.)
</script>
</body>
</html>
